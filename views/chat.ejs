<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <meta http-equiv="refresh" content="2"> -->
    <title>Screenshot</title>
    <!-- <link rel="stylesheet" href="../public/message.css"> -->
     <link rel="stylesheet" href="message.css">
</head>

<body>
    <div class="chat">
        <div class="chat-header">
            <h1>
                <%= id %><span class="status">&#9670;</span>
            </h1>
        </div>
        <div class="main">
            <div class="message-list">
                <div class="message sent">
                    <p>TODAY</p>
                </div>
                <div class="message received">
                    <p>
                        Messages are end-to-end encrypted. No one outside of this chat,
                        not even Owner, can read or listen to them
                    </p>
                </div>
            </div>

            <% if(data!={}) {%>
                <%= console.log(data) %>
                <% for(user of data){ %>
                    <div class="message-container">
                        <p class="user-message">
                            <%= user.content %>
                        </p>
                    </div>
                    <% } %>
                        <% } %>
        </div>
    </div>
    <div class="chat-footer inpt-area">
        <form action="#" method="post">
            <input type="text" placeholder="Type a message" class="message-input" name="message" autofocus/>
            <button class="send">Send</button>
        </form>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.0.0-rc.5/html2canvas.min.js"></script>
    <script>
        // const chat = document.querySelector(".chat");
        // const button = document.querySelector("button");
        const send = document.querySelector(".send");
        const inp = document.querySelector(".message-input");

        send.addEventListener("click", (e) => {
            e.preventDefault();
            console.dir(inp);

        });

        // let container = document.querySelector(".chat");
        // function scrollToBottom() {
        //     // Check if the content overflows
        //     if (container.scrollHeight > container.clientHeight) {
        //         // Scroll to the bottom
        //         container.scrollTop = container.scrollHeight - container.clientHeight;
        //     }
        // }

        // // Call scrollToBottom whenever new content is added
        // container.addEventListener("DOMNodeInserted", scrollToBottom);

        // // Optionally, call scrollToBottom initially if content is already present
        // scrollToBottom();
    </script>
</body>

</html>